spring:
  application:
    name: coffee-machine-mqtt-worker
  profiles:
    active: dev

---
spring:
  config:
    activate:
      on-profile: dev
  mqtt:
    broker:
      url: tcp://localhost:1883
      client-id: coffee-machine-mqtt-worker-dev
      username: 
      password: 
    topics:
      temperature: coffeeMachine/+/temperature
      water-level: coffeeMachine/+/waterLevel
      milk-level: coffeeMachine/+/milkLevel
      beans-level: coffeeMachine/+/beansLevel
      status: coffeeMachine/+/status
      usage: coffeeMachine/+/usage

backend:
  api:
    base-url: http://localhost:8080
    endpoints:
      machine-status: /api/machine/{id}/status
      machine-levels: /api/machine/{id}/levels
      machine-history: /api/machine/{id}/history
      machine-alerts: /api/machine/{id}/alerts

logging:
  level:
    com.example.coffeemachine: DEBUG
    org.springframework.integration: DEBUG
    org.eclipse.paho: INFO
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"

---
spring:
  config:
    activate:
      on-profile: prod
  mqtt:
    broker:
      url: ${MQTT_BROKER_URL:tcp://localhost:1883}
      client-id: coffee-machine-mqtt-worker-prod
      username: ${MQTT_USERNAME:}
      password: ${MQTT_PASSWORD:}
    topics:
      temperature: coffeeMachine/+/temperature
      water-level: coffeeMachine/+/waterLevel
      milk-level: coffeeMachine/+/milkLevel
      beans-level: coffeeMachine/+/beansLevel
      status: coffeeMachine/+/status
      usage: coffeeMachine/+/usage

backend:
  api:
    base-url: ${BACKEND_API_URL:http://localhost:8080}
    endpoints:
      machine-status: /api/machine/{id}/status
      machine-levels: /api/machine/{id}/levels
      machine-history: /api/machine/{id}/history
      machine-alerts: /api/machine/{id}/alerts

logging:
  level:
    com.example.coffeemachine: INFO
    org.springframework.integration: INFO
    org.eclipse.paho: WARN
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"